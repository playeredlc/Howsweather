<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Appplication</title>
    <!-- BOOTSTRAP CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">

  </head>
  <body>
    <div class="container-fluid">

      <!-- search bar -->
      <form id="form" class="row" action="/" method="POST">
        <div class="col-12">
          <input type="text" id="city-input" class="form-control" name="cityName" placeholder="Type to search...">
        </div>
        <div class="col-12">    
          <button id="search-btn" type="submit" class="btn btn-outline-dark btn-sm">Search</button>
        </div>
      </form>
      
      <div id="weather-list" class="row">
        <!-- left menu -->
        <div class="col-12 col-sm-12 col-md-3 col-lg-2">
          <div class="list-group" id="list-tab" role="tablist">
            <a class="list-group-item list-group-item-light list-group-item-action active" id="list-current-list" data-bs-toggle="list" href="#list-current" role="tab" aria-controls="current">Current</a> 
            <a class="list-group-item list-group-item-light list-group-item-action" id="list-forecast-list" data-bs-toggle="list" href="#list-forecast" role="tab" aria-controls="forecast">Forecast</a>
          </div>
        </div>
        <!-- content -->
        <div class="col-12 col-sm-12 col-md-9 col-lg-10">
          <div class="tab-content" id="nav-tabContent">
            <!-- current data content -->
            <div class="tab-pane fade show active" id="list-current" role="tabpanel" aria-labelledby="list-current-list">
              <div class="row current-row">
                <div class="current-header col-12">
                  <h3 class="city-name"><%= currentData.location %></h1>
                  <p class="date text-muted"><%= currentData.date %></p>
                  <p><%= currentData.description %></p>
                </div>
                <div class="current-info row">
                  <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                    <img src="<%=currentData.iconURL%>" alt="current-weather-image">
                  </div>
                  <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                    <p class="temp-current"><%= currentData.temp %>°C </p>
                    <p class="temp-minmax text-muted"><%= currentData.tempMin %>°C - <%= currentData.tempMax %>°C</p>
                  </div>
                </div>
                <div class="current-extra-info col-12">
                  <p>
                    Feeling like: <%= currentData.feelsLike %>°C <br>
                    Humidity: <%= currentData.humidity %>% <br>
                    Wind Speed: <%=currentData.windSpeed%> km/h
                  </p>
                </div>
              </div>   
            </div>

            <!-- forecast content -->
            <div class="tab-pane fade" id="list-forecast" role="tabpanel" aria-labelledby="list-forecast-list">
              <div class="row">
                <!-- week days tab -->
                <div class="col-12">
                  <div class="forecast-tab list-group list-group-horizontal" id="list-tab" role="tablist">
                    <a class="forecast-item flex-fill list-group-item list-group-item-action active" id="list-0-list" data-bs-toggle="list" href="#list-0" role="tab" aria-controls="0" style="background-image: url('<%=forecastData[0].iconURL%>'); background-size: contain; background-repeat: no-repeat;"> <%= (forecastData[0].date.slice)(0,3) %> </a>
                    <a class="forecast-item flex-fill list-group-item list-group-item-action" id="list-1-list" data-bs-toggle="list" href="#list-1" role="tab" aria-controls="1" style="background-image: url('<%=forecastData[1].iconURL%>'); background-size: contain; background-repeat: no-repeat;"> <%= (forecastData[1].date).slice(0,3) %> </a>                    
                    <a class="forecast-item flex-fill list-group-item list-group-item-action" id="list-2-list" data-bs-toggle="list" href="#list-2" role="tab" aria-controls="2" style="background-image: url('<%=forecastData[2].iconURL%>'); background-size: contain; background-repeat: no-repeat;"> <%= (forecastData[2].date).slice(0,3) %> </a>
                    <a class="forecast-item flex-fill list-group-item list-group-item-action" id="list-3-list" data-bs-toggle="list" href="#list-3" role="tab" aria-controls="3" style="background-image: url('<%=forecastData[3].iconURL%>'); background-size: contain; background-repeat: no-repeat;"> <%= (forecastData[3].date).slice(0,3) %> </a>
                    <a class="forecast-item flex-fill list-group-item list-group-item-action" id="list-4-list" data-bs-toggle="list" href="#list-4" role="tab" aria-controls="4" style="background-image: url('<%=forecastData[4].iconURL%>'); background-size: contain; background-repeat: no-repeat;"> <%= (forecastData[4].date).slice(0,3) %> </a>
                  </div>
               </div>
                <!-- content referent to each button -->
                <div class="col-12">
                  <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="list-0" role="tabpanel" aria-labelledby="list-0-list">
                        
                      <div class="row current-row">
                        <div class="current-header col-6">
                          <h3 class="city-name"><%= forecastData[0].location %></h1>
                          <p class="date text-muted"><%= forecastData[0].date %></p>
                          <p><%= forecastData[0].description %></p>
                        </div>
                        <div class="current-info row">
                          <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                            <img src="<%=forecastData[0].iconURL%>" alt="current-weather-image">
                          </div>
                          <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                            <p class="temp-current"><%= forecastData[0].temp %>°C </p>
                            <p class="temp-minmax text-muted"><%= forecastData[0].tempMin %>°C - <%= forecastData[0].tempMax %>°C</p>
                          </div>
                        </div>
                        <div class="current-extra-info col-12">
                          <p>
                            Precipitation: <%= forecastData[0].pop %>% <br>
                            Humidity: <%= forecastData[0].humidity %>% <br>
                            Wind Speed: <%=forecastData[0].windSpeed%> km/h
                          </p>
                        </div>
                        <div id="canvasDay0" style="width: 80%" data-graphics="<%= graphicsData[1] %>">
                          <canvas id="myChart0" width="1500" height="500"></canvas>
                        </div>
                      </div> 
                   
                    </div>
                    <div class="tab-pane fade" id="list-1" role="tabpanel" aria-labelledby="list-1-list">
                      
                      <div class="row current-row">
                        <div class="current-header col-6">
                          <h3 class="city-name"><%= forecastData[1].location %></h1>
                          <p class="date text-muted"><%= forecastData[1].date %></p>
                          <p><%= forecastData[1].description %></p>
                        </div>
                        <div class="current-info row">
                          <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                            <img src="<%=forecastData[1].iconURL%>" alt="current-weather-image">
                          </div>
                          <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                            <p class="temp-current"><%= forecastData[1].temp %>°C </p>
                            <p class="temp-minmax text-muted"><%= forecastData[1].tempMin %>°C - <%= forecastData[1].tempMax %>°C</p>
                          </div>
                        </div>
                        <div class="current-extra-info col-12">
                          <p>
                            Precipitation: <%= forecastData[1].pop %>% <br>
                            Humidity: <%= forecastData[1].humidity %>% <br>
                            Wind Speed: <%=forecastData[1].windSpeed%> km/h
                          </p>
                        </div>
                        <div id="canvasDay1" style="width: 80%" data-graphics="<%= graphicsData[2] %>">
                          <canvas id="myChart1" width="1500" height="500"></canvas>
                        </div>
                      </div> 

                    </div>
                    <div class="tab-pane fade" id="list-2" role="tabpanel" aria-labelledby="list-2-list">

                      <div class="row current-row">
                        <div class="current-header col-6">
                          <h3 class="city-name"><%= forecastData[2].location %></h1>
                          <p class="date text-muted"><%= forecastData[2].date %></p>
                          <p><%= forecastData[2].description %></p>
                        </div>
                        <div class="current-info row">
                          <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                            <img src="<%=forecastData[2].iconURL%>" alt="current-weather-image">
                          </div>
                          <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                            <p class="temp-current"><%= forecastData[2].temp %>°C </p>
                            <p class="temp-minmax text-muted"><%= forecastData[2].tempMin %>°C - <%= forecastData[2].tempMax %>°C</p>
                          </div>
                        </div>
                        <div class="current-extra-info col-12">
                          <p>
                            Precipitation: <%= forecastData[2].pop %>% <br>
                            Humidity: <%= forecastData[2].humidity %>% <br>
                            Wind Speed: <%=forecastData[2].windSpeed%> km/h
                          </p>
                        </div>
                        <div id="canvasDay2" style="width: 80%" data-graphics="<%= graphicsData[3] %>">
                          <canvas id="myChart2" width="1500" height="500"></canvas>
                        </div>
                      </div>

                    </div>
                    <div class="tab-pane fade" id="list-3" role="tabpanel" aria-labelledby="list-3-list">
                      <div class="row current-row">
                        <div class="current-header col-6">
                          <h3 class="city-name"><%= forecastData[3].location %></h1>
                          <p class="date text-muted"><%= forecastData[3].date %></p>
                          <p><%= forecastData[3].description %></p>
                        </div>
                        <div class="current-info row">
                          <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                            <img src="<%=forecastData[3].iconURL%>" alt="current-weather-image">
                          </div>
                          <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                            <p class="temp-current"><%= forecastData[3].temp %>°C </p>
                            <p class="temp-minmax text-muted"><%= forecastData[3].tempMin %>°C - <%= forecastData[3].tempMax %>°C</p>
                          </div>
                        </div>
                        <div class="current-extra-info col-12">
                          <p>
                            Precipitation: <%= forecastData[3].pop %>% <br>
                            Humidity: <%= forecastData[3].humidity %>% <br>
                            Wind Speed: <%=forecastData[3].windSpeed%> km/h
                          </p>
                        </div>
                        <div id="canvasDay3" style="width: 80%" data-graphics="<%= graphicsData[4] %>">
                          <canvas id="myChart3" width="1500" height="500"></canvas>
                        </div>
                      </div> 

                    </div>
                    <div class="tab-pane fade" id="list-4" role="tabpanel" aria-labelledby="list-4-list">

                      <div class="row current-row">
                        <div class="current-header col-6">
                          <h3 class="city-name"><%= forecastData[4].location %></h1>
                          <p class="date text-muted"><%= forecastData[4].date %></p>
                          <p><%= forecastData[4].description %></p>
                        </div>
                        <div class="current-info row">
                          <div class="col-3 col-sm-2 col-md-3 col-lg-2 current-img">
                            <img src="<%=forecastData[4].iconURL%>" alt="current-weather-image">
                          </div>
                          <div class="col-9 col-sm-10 col-md-9 col-lg-10 temp">
                            <p class="temp-current"><%= forecastData[4].temp %>°C </p>
                            <p class="temp-minmax text-muted"><%= forecastData[4].tempMin %>°C - <%= forecastData[4].tempMax %>°C</p>
                          </div>
                        </div>
                        <div class="current-extra-info col-12">
                          <p>
                            Precipitation: <%= forecastData[4].pop %>% <br>
                            Humidity: <%= forecastData[4].humidity %>% <br>
                            Wind Speed: <%=forecastData[4].windSpeed%> km/h
                          </p>
                        </div>
                        <div id="canvasDay4" style="width: 80%" data-graphics="<%= graphicsData[5] %>">
                          <canvas id="myChart4" width="1500" height="500"></canvas>
                        </div>
                      </div> 

                    </div>
                </div>
              </div>
            </div>
         </div>
        </div>
      </div>

    </div>


    <!-- CHART.JS CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    
    <!-- BOOTSTRAP JS BUNDLE -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>  
    
    <!-- CHARTJS CONFIG -->
    <script src="script/script.js"></script>
  </body>
</html>